@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@{
	var theme = HttpContextAccessor.HttpContext.Request.Cookies["theme"];

	var usuario = HttpContextAccessor.HttpContext.Request.Cookies["USUARIO"];

	if (usuario == null) {
		HttpContextAccessor.HttpContext.Response.Redirect("~/Login");
	}

	if (String.IsNullOrEmpty(theme))
	{
		theme = "green";
	}
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>.:: Cia Do Treinamento ::.</title>

    <environment include="Staging,Production,Development">
		<link rel="shortcut icon" type="image/x-icon" href="~/images/icon.png" />
		<!-- Vendor styles -->
		<link rel="stylesheet" href="~/vendors/bower_components/material-design-iconic-font/dist/css/material-design-iconic-font.min.css">
		<link rel="stylesheet" href="~/vendors/bower_components/animate.css/animate.min.css">
		<link rel="stylesheet" href="~/vendors/bower_components/jquery.scrollbar/jquery.scrollbar.css">
		<link rel="stylesheet" href="~/vendors/bower_components/fullcalendar/dist/fullcalendar.min.css">
		<link rel="stylesheet" href="~/vendors/bower_components/sweetalert2/dist/sweetalert2.min.css">
		<link rel="stylesheet" href="~/vendors/bower_components/dropzone/dist/dropzone.css">
		<link rel="stylesheet" href="~/vendors/bower_components/flatpickr/dist/flatpickr.min.css" />
		<link rel="stylesheet" href="~/vendors/bower_components/nouislider/distribute/nouislider.min.css">
		<link rel="stylesheet" href="~/vendors/bower_components/bootstrap-colorpicker/dist/css/bootstrap-colorpicker.css">
		<link rel="stylesheet" href="~/vendors/bower_components/trumbowyg/dist/ui/trumbowyg.min.css">
		<link rel="stylesheet" href="~/vendors/bower_components/select2/dist/css/select2.min.css">

		<!-- App styles -->
		<link rel="stylesheet" href="~/css/app.css" />
		<link rel="stylesheet" href="~/css/style.css" />
    </environment>

</head>
<body data-ma-theme="@Html.Raw(theme)">
	<div id="divLoadBack" class="loadingBack" style="display: none;">
		&nbsp;
	</div>
	<div id="divLoad" class="loading" style="display: none;">
		&nbsp;
	</div>
	<div id="divLoad2" class="loading2" style="display: none;">
		&nbsp;
	</div>
    <main class="main">
		<div class="page-loader">
			<div class="page-loader__spinner">
				<svg viewBox="25 25 50 50">
					<circle cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />
				</svg>
			</div>
		</div>
		<header class="header">
			<div class="navigation-trigger" data-ma-action="aside-open" data-ma-target=".sidebar">
				<div class="navigation-trigger__inner">
					<i class="navigation-trigger__line"></i>
					<i class="navigation-trigger__line"></i>
					<i class="navigation-trigger__line"></i>
				</div>
			</div>
			<div class="header__logo hidden-sm-down">
				<a href="@Url.Action("Index", "Home")">
					<img src="~/images/Logo_CiaTreinamento.png" style="width: 150px" />
				</a>
			</div>


			<div class="search">
				<div class="search__inner">
					<input type="text" id="seachHeader" class="search__text" placeholder="Pesquise por clientes...">
					<i class="zmdi zmdi-search search__helper" data-ma-action="search-close"></i>
				</div>
			</div>

			<ul class="top-nav">
				<li class="hidden-xl-up"><a href="" data-ma-action="search-open"><i class="zmdi zmdi-search"></i></a></li>

				@Html.Partial("Geral/PartialNotificacoes")

				<li class="dropdown hidden-xs-down">
					<a href="" data-toggle="dropdown"><i class="zmdi zmdi-more-vert"></i></a>

					<div class="dropdown-menu dropdown-menu-right">
						<div class="dropdown-item theme-switch">
							Tema

							<div class="btn-group btn-group--colors mt-2 box-theme" data-toggle="buttons">
								<label class="btn bg-green"><input type="radio" value="green" autocomplete="off"></label>
								<label class="btn bg-blue"><input type="radio" value="blue" autocomplete="off"></label>
								<label class="btn bg-red"><input type="radio" value="red" autocomplete="off"></label>
								<label class="btn bg-orange"><input type="radio" value="orange" autocomplete="off"></label>
								<label class="btn bg-teal"><input type="radio" value="teal" autocomplete="off"></label>

								<br>

								<label class="btn bg-cyan"><input type="radio" value="cyan" autocomplete="off"></label>
								<label class="btn bg-blue-grey"><input type="radio" value="blue-grey" autocomplete="off"></label>
								<label class="btn bg-purple"><input type="radio" value="purple" autocomplete="off"></label>
								<label class="btn bg-indigo"><input type="radio" value="indigo" autocomplete="off"></label>
								<label class="btn bg-lime"><input type="radio" value="lime" autocomplete="off"></label>
							</div>
						</div>
					</div>
				</li>

			</ul>
		</header>
		<!--MENU-->
		@Html.Partial("Geral/PartialMenu")
		
	</main>
	<environment include="Staging,Production,Development">

		<!-- ../vendors -->
		<script src="~/vendors/bower_components/jquery/dist/jquery.min.js"></script>
		<script src="~/vendors/bower_components/tether/dist/js/tether.min.js"></script>
		<script src="~/vendors/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
		<script src="~/vendors/bower_components/Waves/dist/waves.min.js"></script>
		<script src="~/vendors/bower_components/jquery.scrollbar/jquery.scrollbar.min.js"></script>
		<script src="~/vendors/bower_components/jquery-scrollLock/jquery-scrollLock.min.js"></script>

		<script src="~/vendors/bower_components/flot/jquery.flot.js"></script>
		<script src="~/vendors/bower_components/flot/jquery.flot.resize.js"></script>
		<script src="~/vendors/bower_components/flot.curvedlines/curvedLines.js"></script>
		<script src="~/vendors/bower_components/jqvmap/dist/jquery.vmap.min.js"></script>
		<script src="~/vendors/bower_components/jqvmap/dist/maps/jquery.vmap.world.js"></script>
		<script src="~/vendors/bower_components/jquery.easy-pie-chart/dist/jquery.easypiechart.min.js"></script>
		<script src="~/vendors/bower_components/salvattore/dist/salvattore.min.js"></script>
		<script src="~/vendors/jquery.sparkline/jquery.sparkline.min.js"></script>
		<script src="~/vendors/bower_components/moment/min/moment.min.js"></script>
		<script src="~/vendors/bower_components/fullcalendar/dist/fullcalendar.min.js"></script>

		<!-- Vendors: Data tables -->
		<script src="~/vendors/bower_components/datatables.net/js/jquery.dataTables.js"></script>
		<script src="~/vendors/bower_components/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
		<script src="~/vendors/bower_components/datatables.net-buttons/js/buttons.print.min.js"></script>
		<script src="~/vendors/bower_components/jszip/dist/jszip.min.js"></script>
		<script src="~/vendors/bower_components/datatables.net-buttons/js/buttons.html5.min.js"></script>

		<script src="~/vendors/bower_components/remarkable-bootstrap-notify/dist/bootstrap-notify.min.js"></script>
		<script src="~/vendors/bower_components/sweetalert2/dist/sweetalert2.min.js"></script>

		<script src="~/vendors/bower_components/jquery-mask-plugin/dist/jquery.mask.min.js"></script>
		<script src="~/vendors/bower_components/select2/dist/js/select2.full.min.js"></script>
		<script src="~/vendors/bower_components/dropzone/dist/min/dropzone.min.js"></script>
		<script src="~/vendors/bower_components/moment/min/moment.min.js"></script>
		<script src="~/vendors/bower_components/flatpickr/dist/flatpickr.min.js"></script>
		<script src="~/vendors/bower_components/nouislider/distribute/nouislider.min.js"></script>
		<script src="~/vendors/bower_components/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js"></script>
		<script src="~/vendors/bower_components/trumbowyg/dist/trumbowyg.min.js"></script>

		<script src="~/demo/js/other-charts.js"></script>

		<!-- App functions and actions -->
		<script src="~/js/popper.js"></script>
		<script src="~/js/jquery-ui.js"></script>
		<script src="~/js/inc/functions/app.js"></script>
		<script src="~/js/jsFunctions.js"></script>

		<script type="text/javascript">

			$(document).ready(function () {
				getNotificacoes();
			});

			$('#seachHeader').keypress(function (e) {
				if (e.which == 13) {
					var valorDigitado = $('#seachHeader').val();
					if (valorDigitado.length >= 4) {
						openModal(valorDigitado.replace(/[\(\)\.\-\/]+/g, ''));
					} else {
						OpenAlert("Atenção!", "A descrição deve possuir no mínimo 4 caracteres!", "danger");
					}
				}
			});

		</script>

	</environment>

    <div class="container body-content" style="width:100%; padding:0px;">
        @RenderBody()
    </div>
   
	@Html.Partial("Geral/PartialAlertaErro")
	@Html.Partial("Cliente/PartialBuscaCliente")
    @RenderSection("Scripts", required: false)
</body>
</html>
